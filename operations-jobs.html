<!--
 * WYD - blank.html template
 * @version v0.17.05.31
 * Copyright (c) 2017 WYD
 * NOTE: Login redirect is commented out
 -->
 <!DOCTYPE html>
<html lang="en">

<head>
    
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="WYD - What'd You Do?">
    <meta name="author" content="Higashi">
    <meta name="keyword" content="WYD, What'd You Do?, Whatd You Do">
    <link rel="shortcut icon" href="img/WYD_logo.png">

    <title>WYD-Operations Jobs</title>

    <!-- Icons -->
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/simple-line-icons.css" rel="stylesheet">

    <!-- Premium Icons -->
    <link href="css/glyphicons.css" rel="stylesheet">
    <link href="css/glyphicons-filetypes.css" rel="stylesheet">
    <link href="css/glyphicons-social.css" rel="stylesheet">
    
    <!-- Main styles for this application -->
    <link href="css/style.css" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/4.1.2/firebase.js"></script>
    <script src="js/fbinit.js"></script>

</head>

<!-- BODY options, add following classes to body to change options

// Sidebar options
1. '.sidebar-fixed'					- Fixed Sidebar
2. '.sidebar-hidden'				- Hidden Sidebar
3. '.sidebar-off-canvas'		- Off Canvas Sidebar
4. '.sidebar-compact'				- Compact Sidebar Navigation (Only icons)

-->

<body class="app header-fixed sidebar-fixed">
    
    <!-- Navigation -->     
    <header class="app-header navbar">
        <button class="navbar-toggler mobile-sidebar-toggler hidden-lg-up" type="button">≡</button>
        <span class="nav navbar-nav py-1 px-2 hidden-lg-up">
            <i class="fa fa-cubes"></i>OPERATIONS
        </span>
        <a class="navbar-brand" href="operations-dashboard.html"></a>
        <ul class="nav navbar-nav hidden-md-down b-r-1">
            <li class="nav-item">
                <a class="nav-link navbar-toggler sidebar-toggler" href="#">≡</a>
            </li>

        </ul>
        <span class="nav navbar-nav float-left py-1 px-2 hidden-md-down">
            <i class="fa fa-cubes"></i>OPERATIONS
        </span>
        <span class="nav navbar-toggler-right float-right hidden-md-down">
            <a id="logout" class="py-1 px-2" href="#" onclick="logout()"><i class="fa fa-sign-out"></i>Logout</a>
        </span>

    </header>

    <div class="app-body">
        <div class="sidebar">

            <div class="sidebar-header">
                <div>
                   <br>
                    <strong id="full-name">SHANIQUA JONES</strong>
                </div>
                <div class="text-muted">
                    <small id="job-title">Seated User</small>
                </div>
            </div>

            <nav class="sidebar-nav">
                <!-- This nav is hidden if employees-navbar is loaded -->
                <ul class="nav" id="operations-sidebar">
                    <li class="divider"></li>
                    <li class="nav-item">
                        <a class="nav-link" href="employees-dashboard.html"> Switch to Employee View</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="operations-dashboard.html">
                        <i class="icon-speedometer"></i>DASHBOARD</a>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-item nav-dropdown">
                        <a class="nav-link nav-dropdown-toggle" href="#"><i class="icon-notebook"></i>REPORTS</a>
                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a class="nav-link" href="operations-reports-new.html"><i class="icon-doc"></i>  New</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="operations-reports.html"><i class="icon-docs"></i>  View</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="operations-reports-templates.html"><i class="icon-wrench"></i>  Templates</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item nav-dropdown">
                        <a class="nav-link nav-dropdown-toggle" href="#"><i class="icon-home"></i>HOUSEKEEPING</a>
                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a class="nav-link" href="operations-jobs.html"><i class="icon-basket-loaded"></i>  Jobs</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="operations-seats.html"><i class="icon-puzzle"></i>  Seats</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="operations-company.html"><i class="icon-picture"></i>  Company Profile</a>
                            </li>
                        </ul>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-item">
                        <a class="nav-link" href="settings.html"><i class="icon-settings"></i>SETTINGS</a>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-item">
                        <a id="logout-sidebar" class="nav-link" href="#"><i class="icon-logout"></i>LOGOUT</a>
                    </li>
                    <li class="divider"></li>
                </ul>
                
                <!-- This nav is hidden if operations-navbar is loaded -->
                <ul class="nav" id="employees-sidebar">
                   
                    <li class="nav-item">
                        <a class="nav-link" href="operations-dashboard.html"> Switch to Operations View</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="employees-dashboard.html">
                        <i class="icon-speedometer"></i>DASHBOARD</a>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-item nav-dropdown">
                        <a class="nav-link nav-dropdown-toggle" href="#"><i class="icon-notebook"></i>REPORTS</a>
                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a class="nav-link" href="employees-reports-new.html"><i class="icon-doc"></i>  New</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="employees-reports-mine.html"><i class="icon-book-open"></i>  View Mine</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="employees-reports.html"><i class="icon-docs"></i>  View All</a>
                            </li>
                        </ul>
                    </li>
                   <li class="nav-item">
                        <a class="nav-link" href="employees-profile.html">
                        <i class="icon-user"></i>MY PROFILE</a>
                    </li>
                    <li class="nav-item nav-dropdown">
                        <a class="nav-link nav-dropdown-toggle" href="#"><i class="icon-home"></i>OPERATIONAL</a>
                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a class="nav-link" href="employees-jobs.html"><i class="icon-basket-loaded"></i>  Jobs</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="employees-list.html"><i class="icon-puzzle"></i>  Employee List</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="employees-company.html"><i class="icon-picture"></i>  Company Profile</a>
                            </li>
                        </ul>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-item">
                        <a class="nav-link" href="settings.html"><i class="icon-settings"></i>SETTINGS</a>
                    </li>
                    <li class="divider"></li>
                    <li class="nav-item">
                        <a id="logout" class="nav-link" href="#"><i class="icon-logout"></i>LOGOUT</a>
                    </li>
                    <li class="divider"></li>
                </ul>
            </nav>
        </div>

        <!-- Main content -->
        <main class="main">
            <!-- Modal Content -->
            <div class="modal fade" id="view-job-modal" tabindex="-1" role="dialog" aria-labelledby="viewJobModalTitle" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="viewJobModalTitle">VIEW JOB</h5>
                            <button id="view-modal-close" type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <input id="jobID" type="text" disabled style="display:none">
                            <input id="view-contact-count" type="text" disabled value=0 style="display:none">
                            <label>Job Name</label>
                            <div class="input-group mb-1">
                                <span class="input-group-addon"><i class="icon-rocket fa-spin"></i></span>
                                <input id="view-name-input" type="text" class="form-control" autofocus="autofocus" placeholder="Job Name" disabled>
                            </div>

                            <label>Job Number</label>
                            <div class="input-group mb-1">
                                <span class="input-group-addon">#</span>
                                <input id="view-number-input" type="text" class="form-control" autofocus="autofocus" placeholder="Job Number" disabled>
                            </div>

                            <label>Job Location</label>
                            <div class="input-group mb-1">
                                <span class="input-group-addon"><i class="icon-location-pin"></i></span>
                                <input id="view-location-input" type="text" class="form-control" autofocus="autofocus" placeholder="Location / Address" disabled>
                            </div>
                            <div>
                                Active Job?
                                <label class="switch switch-text switch-pill switch-primary">
                                    <input disabled id="view-active-input" type="checkbox" class="switch-input" checked="">
                                    <span class="switch-label"data-on="YES" data-off="NO"></span>
                                    <span class="switch-handle"></span>
                                </label>
                            </div>
                            <div>
                                Complete Job?
                                <label class="switch switch-text switch-pill switch-primary">
                                    <input disabled id="view-complete-input" type="checkbox" class="switch-input" checked="">
                                    <span class="switch-label"data-on="YES" data-off="NO"></span>
                                    <span class="switch-handle"></span>
                                </label>
                            </div>
                            
                            <label>Project Manager</label>
                            <div class="input-group mb-1">
                                <span class="input-group-addon"><i class="icon-emotsmile"></i></span>
                                <input id="view-pm-name-input" type="text" class="form-control" autofocus="autofocus" placeholder="Project Manager Name" disabled>
                            </div>

                            <label>Project Manager Contact</label>
                            <div class="input-group mb-1">
                                <span class="input-group-addon"><i class="icon-phone"></i></span>
                                <input id="view-pm-contact-input" type="telephone" class="form-control" autofocus="autofocus" placeholder="Project Manager Contact" disabled>
                            </div>
                            Contractor Information
                            <div class="input-group mb-1">
                                <span class="input-group-addon"><i class="icon-wrench"></i></span>
                                <input id="view-contractor-input" type="text" class="form-control" autofocus="autofocus" placeholder="Contractor" disabled>
                            </div>
                            <div id="view-modal-job-contacts"></div>
                        </div>
                        <div class="modal-footer">
                            <button id="button-job-cancel" type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                            <button id="button-job-delete" type="button" class="btn btn-warning" data-dismiss="modal" style="display:none">Delete Job</button>
                            <button id="button-job-edit" type="button" class="btn btn-primary">Edit Job</button>
                            <button id="button-job-save" type="button" class="btn btn-success" style="display:none">Save Job</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Main Page Content -->
            <div class="container-fluid">

                <div class="animated fadeIn">
                    <h1>Company Jobs</h1>
                    <hr>
                    <div id="button-add-job-div">
                        <button type="button" class="btn  btn-primary btn-block" id="button-add-job">Add Job</button>
                    </div>
                    <div id="add-job-inputs" style="display:none">
                        <h3>Add Job</h3>
                        <hr>
                        <h6>Job Information</h6>
                        <div class="input-group mb-1">
                            <span class="input-group-addon"><i class="icon-rocket fa-spin"></i></span>
                            <input id="name-input" type="text" class="form-control" autofocus="autofocus" placeholder="Job Name">
                        </div>

                        <div class="input-group mb-1">
                            <span class="input-group-addon">#</span>
                            <input id="number-input" type="text" class="form-control" autofocus="autofocus" placeholder="Job Number">
                        </div>

                        <div class="input-group mb-1">
                            <span class="input-group-addon"><i class="icon-location-pin"></i></span>
                            <input id="location-input" type="text" class="form-control" autofocus="autofocus" placeholder="Location / Address">
                        </div>
                        <div>
                            Active Job?
                            <label class="switch switch-text switch-pill switch-primary">
                                <input id="active-input" type="checkbox" class="switch-input" checked="">
                                <span class="switch-label"data-on="YES" data-off="NO"></span>
                                <span class="switch-handle"></span>
                            </label>
                        </div>
                        <div class="input-group mb-1">
                            <span class="input-group-addon"><i class="icon-emotsmile"></i></span>
                            <input id="pm-name-input" type="text" class="form-control" autofocus="autofocus" placeholder="Project Manager Name">
                        </div>

                        <div class="input-group mb-1">
                            <span class="input-group-addon"><i class="icon-phone"></i></span>
                            <input id="pm-contact-input" type="telephone" class="form-control" autofocus="autofocus" placeholder="Project Manager Contact">
                        </div>
                        Contractor Information
                        <div class="input-group mb-1">
                            <span class="input-group-addon"><i class="icon-wrench"></i></span>
                            <input id="contractor-input" type="text" class="form-control" autofocus="autofocus" placeholder="Contractor">
                        </div>

                        <input id="contact-count" type="number" disabled style="display:none" value="0">

                        <div class="input-group mb-1">
                            <span class="input-group-addon"><i class="icon-user"></i></span>
                            <input id="name-input-0" type="text" class="form-control" autofocus="autofocus" placeholder="Contractor Contact Name">
                        </div>

                        <div class="input-group mb-1">
                            <span class="input-group-addon"><i class="icon-phone"></i></span>
                            <input id="number-input-0" type="telephone" class="form-control" autofocus="autofocus" placeholder="Contractor Contact Number">
                        </div>

                        <button type="button" class="btn btn-primary" id="button-add-job-contact">Add Another Contact</button>
                        <br>
                        <h6 id="additional-contacts-header" style="display:none">Additional Contacts</h6>
                        <div id="add-contacts"></div>
                        <br>
                        <div id="loading" class="sk-cube-grid" style="display:none">
                            <div class="sk-cube sk-cube1"></div>
                            <div class="sk-cube sk-cube2"></div>
                            <div class="sk-cube sk-cube3"></div>
                            <div class="sk-cube sk-cube4"></div>
                            <div class="sk-cube sk-cube5"></div>
                            <div class="sk-cube sk-cube6"></div>
                            <div class="sk-cube sk-cube7"></div>
                            <div class="sk-cube sk-cube8"></div>
                            <div class="sk-cube sk-cube9"></div>
                        </div>
                        <button id="button-add-job-cancel" type="button" class="btn btn-danger">Cancel</button>
                        <button id="button-add-job-confirm" type="button" class="btn btn-success" disabled>Add Job</button>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-sm-6" id="button-switch-job-div">
                            <button type="button" class="btn  btn-primary btn-block" id="button-switch-job" value="inactive">View Inactive Jobs</button>
                            <hr>
                        </div>
                        <div class="col-sm-6" id="button-switch-completed-job-div">
                            <button type="button" class="btn  btn-primary btn-block" id="button-switch-completed-job" value="completed">View Completed Jobs</button>
                            <hr>
                        </div>
                    </div>
                    <input id="job-count" type="number" disabled style="display:none" value="0">
                    <div class="card">
                        <div id="job-div" class="card-block">
                            <div id="loading-jobs" class="sk-cube-grid" style="display:true">
                                <div class="sk-cube sk-cube1"></div>
                                <div class="sk-cube sk-cube2"></div>
                                <div class="sk-cube sk-cube3"></div>
                                <div class="sk-cube sk-cube4"></div>
                                <div class="sk-cube sk-cube5"></div>
                                <div class="sk-cube sk-cube6"></div>
                                <div class="sk-cube sk-cube7"></div>
                                <div class="sk-cube sk-cube8"></div>
                                <div class="sk-cube sk-cube9"></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <!-- /.conainer-fluid -->
        </main>

    </div>
    
    <div id="footer"></div>

    <!-- Load jquery for navs and footer -->
    <script src="js/libs/jquery.min.js"></script>
    <!-- Main scripts -->
    <script src="js/app.js"></script>
    
    <!-- Bootstrap and necessary plugins -->
    <script src="js/libs/tether.min.js"></script>
    <script src="js/libs/bootstrap.min.js"></script>
    <script src="js/libs/pace.min.js"></script>


    <!-- Plugins and scripts required by all views -->
    <script src="js/libs/Chart.min.js"></script>
    <script src="js/libs/toastr.min.js"></script>
    
    <!-- Plugins and scripts required by this views -->
    <script src="js/libs/jquery.dataTables.min.js"></script>
    <script src="js/libs/dataTables.bootstrap4.min.js"></script>


    <!-- Custom scripts required by this view -->
    <script src="js/views/tables.js"></script>
    
    <!-- Comment out unneeded navbars -->
    <script>
        $(document).ready(function () {
            $("#footer").load("footer.html");
            //$("#navbar").load("operations-navbar.html");
            //$("#navbar").load("employees-navbar.html");
            //$("#navbar").load("god-navbar.html");
            
            document.getElementById("employees-sidebar").style.display = "none";
            if(localStorage["WYDuserNameFull"]!=null){
                document.getElementById("full-name").innerHTML = localStorage["WYDuserNameFull"];
                document.getElementById("job-title").innerHTML = localStorage["WYDuserJobTitle"];
            }
            $('input').keyup(companyJobCheck);
        });
    </script>
    
    <!-- Make sure user is logged in, else send to login -->
    <script>
        firebase.auth().onAuthStateChanged(function(user) {
          if (user) {
            // User is signed in.
            //toastr["info"]("user logged in");
            if(localStorage["WYDuserID"]!=user.uid || localStorage["WYDuserAccess"]==null) getUserData();
            getActiveJobs();
          } else {
            // No user is signed in.
            window.location="login.html";
            //toastr["warning"]("User Not Logged In!");
          }
        });
    </script>

</body>

</html>